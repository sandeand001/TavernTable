/* css/styles.css - Main stylesheet for TavernTable */

html,
body {
  margin: 0;
  padding: 0;
  background-color: #1e1e1e;
  overflow: hidden;
}

#game-container {
  width: 100vw;
  height: 100vh;
}

#dice-panel {
  position: absolute;
  top: 10px;
  left: 10px;

  /* Back to upper left */
  background-color: rgba(0, 0, 0, 0.7);
  padding: 10px;
  border-radius: 8px;
  color: white;
  font-family: sans-serif;
  min-width: 320px;

  /* Wide enough for all dice buttons in one row */
  max-width: 400px;

  /* Reasonable maximum width */
  box-sizing: border-box;
}

/* Make dice buttons display inline for single row layout */
#dice-panel button {
  margin: 2px;
  padding: 6px 10px;
  background-color: #444;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  display: inline-block;

  /* Change from default block to inline-block */
}

/* Responsive adjustments for dice panel */
@media (width <=768px) {
  #dice-panel {
    min-width: auto;

    /* Allow smaller width on mobile */
    max-width: calc(100vw - 20px);

    /* Take available width on mobile */
  }

  /* On small screens, allow buttons to wrap if needed */
  #dice-panel button {
    margin: 1px;
    padding: 4px 8px;
    font-size: 12px;
  }
}

#dice-panel button:hover {
  background-color: #666;
}

#dice-result {
  margin-top: 8px;
  font-weight: bold;
}

@media (height <=600px) {
  #creature-content {
    max-height: 300px;

    /* Reduce creature content height on short screens */
  }
}

#creature-header {
  cursor: pointer;
  user-select: none;
  margin-bottom: 8px;
  font-weight: bold;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

#creature-arrow.collapsed {
  transform: rotate(-90deg);
}

#creature-content {
  /* Combined transition (removed duplicate later override) */

  /* Include transform for subtle hover transforms */
  transition:
    max-height 0.3s ease,
    opacity 0.3s ease;
  overflow: hidden;
  max-height: 400px;

  /* Increased from 320px to show more creatures */
  opacity: 1 !important;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 12px;
  padding: 12px;
  border: 1px solid #2b2b2b;
  border-radius: 8px;
  background: linear-gradient(160deg, rgba(32, 32, 32, 0.7), rgba(18, 18, 18, 0.92));
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04);
  backdrop-filter: blur(4px);

  /* Smooth layout breathing room for the creature token cards */
}

#creature-content button {
  background: linear-gradient(180deg, rgba(88, 88, 88, 0.55), rgba(52, 52, 52, 0.9));
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 10px;
  color: #f4f4f4;
  padding: 12px 14px;
  min-height: 64px;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 10px;
  text-align: left;
  font-size: 15px;
  font-weight: 500;
  line-height: 1.35;
  letter-spacing: 0.1px;
  white-space: normal;
  overflow: hidden;
  text-overflow: ellipsis;
  transition:
    transform 0.18s ease,
    box-shadow 0.18s ease,
    border-color 0.18s ease,
    background 0.18s ease;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.35);
}

#creature-content button:focus-visible {
  outline: none;
  border-color: rgba(77, 166, 255, 0.85);
  box-shadow:
    0 0 0 2px rgba(77, 166, 255, 0.35),
    0 6px 18px rgba(0, 0, 0, 0.45);
}

/* Placeables category toggle refinement (slightly smaller variant) */
.placeables-cat-toggle .toggle-switch .toggle-slider {
  width: 42px;
  height: 20px;
}

.placeables-cat-toggle .toggle-switch .toggle-slider::before {
  width: 16px;
  height: 16px;
  top: 2px;
  left: 2px;
}

.placeables-cat-toggle .toggle-switch input[type='checkbox']:checked + .toggle-slider::before {
  transform: translateX(22px);
}

.placeables-cat-toggle .toggle-label {
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  opacity: 0.9;
}

/* Creature button hover/selected states */
#creature-content button:hover {
  background: linear-gradient(180deg, rgba(101, 101, 101, 0.75), rgba(58, 58, 58, 0.95));
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.45);
  border-color: rgba(77, 166, 255, 0.45);
}

#creature-content button.selected {
  background: linear-gradient(180deg, rgba(77, 166, 255, 0.95), rgba(37, 96, 170, 0.95));
  color: #ffffff;
  border-color: rgba(123, 196, 255, 0.9);
  box-shadow: 0 8px 20px rgba(77, 166, 255, 0.45);
  font-weight: 600;
}

#creature-content.collapsed {
  max-height: 0 !important;
  opacity: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
}

#token-panel button {
  margin: 4px 0;
  padding: 12px 16px;
  background: linear-gradient(180deg, rgba(72, 84, 110, 0.85), rgba(32, 37, 48, 0.94));
  color: #f3f7ff;
  border: 1px solid rgba(148, 163, 184, 0.25);
  border-radius: 12px;
  cursor: pointer;
  display: block;
  width: 100%;
  font-size: 14px;
  font-weight: 600;
  letter-spacing: 0.2px;
  box-sizing: border-box;
  transition:
    transform 0.18s ease,
    box-shadow 0.18s ease,
    border-color 0.18s ease,
    background 0.18s ease;
  box-shadow: 0 10px 24px rgba(10, 16, 28, 0.45);
}

/* Token section styling improvements */
.token-section {
  margin-top: 10px;
  padding-top: 8px;
  border-top: 1px solid #444;
}

.token-section > div:first-child {
  margin-bottom: 6px;
  font-weight: bold;
}

#token-panel button:hover {
  background: linear-gradient(180deg, rgba(94, 108, 146, 0.9), rgba(40, 48, 62, 0.96));
  transform: translateY(-2px);
  border-color: rgba(77, 166, 255, 0.45);
  box-shadow: 0 14px 26px rgba(12, 20, 34, 0.55);
}

#token-panel button.selected {
  background: linear-gradient(180deg, rgba(77, 166, 255, 0.95), rgba(36, 88, 168, 0.96));
  border: 1px solid rgba(123, 196, 255, 0.85);
  color: #ffffff;
  box-shadow: 0 16px 30px rgba(77, 166, 255, 0.45);
}

.facing-button {
  margin: 4px;
  padding: 10px 14px !important;
  background: linear-gradient(180deg, rgba(78, 88, 118, 0.88), rgba(30, 34, 44, 0.92)) !important;
  color: #f5f7ff;
  border: 1px solid rgba(148, 163, 184, 0.25);
  border-radius: 12px;
  cursor: pointer;
  display: inline-flex !important;
  align-items: center;
  justify-content: center;
  width: auto !important;
  font-size: 14px;
  font-weight: 600;
  letter-spacing: 0.2px;
  transition:
    transform 0.18s ease,
    box-shadow 0.18s ease,
    border-color 0.18s ease;
  box-shadow: 0 10px 20px rgba(10, 16, 28, 0.45);
}

.facing-button:hover {
  background: linear-gradient(180deg, rgba(98, 112, 148, 0.92), rgba(40, 48, 62, 0.96)) !important;
  transform: translateY(-2px);
  border-color: rgba(77, 166, 255, 0.45) !important;
  box-shadow: 0 14px 26px rgba(12, 20, 34, 0.55);
}

.facing-button.selected {
  background: linear-gradient(180deg, rgba(64, 201, 122, 0.95), rgba(30, 126, 75, 0.95)) !important;
  border-color: rgba(134, 241, 181, 0.85) !important;
  color: #012b16 !important;
  box-shadow: 0 16px 28px rgba(50, 170, 110, 0.45);
}

/* Special styling for action buttons (remove) */
#token-remove.facing-button {
  background: linear-gradient(180deg, rgba(247, 99, 122, 0.95), rgba(163, 9, 41, 0.95)) !important;
  border: 2px solid rgba(255, 138, 155, 0.75) !important;
  width: 100% !important;
  color: #fff8f8 !important;
  box-shadow: 0 14px 26px rgba(182, 34, 68, 0.5);
}

#token-remove.facing-button:hover {
  background: linear-gradient(
    180deg,
    rgba(255, 121, 143, 0.98),
    rgba(189, 15, 52, 0.98)
  ) !important;
  border-color: rgba(255, 170, 184, 0.85) !important;
  box-shadow: 0 16px 30px rgba(189, 25, 61, 0.58);
}

#token-remove.facing-button.selected {
  background: linear-gradient(
    180deg,
    rgba(255, 150, 127, 0.96),
    rgba(219, 61, 36, 0.96)
  ) !important;
  border-color: rgba(255, 196, 180, 0.95) !important;
  color: #2d0406 !important;
  box-shadow: 0 18px 32px rgba(214, 66, 53, 0.5);
}

#token-info {
  margin-top: 8px;
  font-size: 12px;
  font-style: italic;
}

/* merged later Help section styles with earlier border/font-size */

#dice-3d-container {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 300px;
  height: 200px;
  pointer-events: none;
  z-index: 1000;
  display: none;
}

/* Collapsible menu styles */
.collapsible-header {
  cursor: pointer;
  padding: 5px 0;
  font-weight: bold;
  user-select: none;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.collapsible-header:hover {
  background-color: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

.collapsible-content {
  display: block;
  transition: all 0.3s ease;
}

#creature-toggle {
  font-size: 14px;
  margin-left: auto;
}

/* ====================================
   RIGHT SIDEBAR MENU SYSTEM
   ==================================== */

#right-sidebar {
  position: fixed;
  top: 0;
  right: 0;
  width: 350px;
  height: 100vh;
  background-color: rgba(15, 15, 15, 0.95);
  backdrop-filter: blur(10px);
  border-left: 2px solid #333;
  display: flex;
  flex-direction: column;
  z-index: 1000;
  font-family: sans-serif;
}

/* Tab Navigation */
#sidebar-tabs {
  display: flex;
  border-bottom: 2px solid #333;
  background-color: rgba(0, 0, 0, 0.8);
}

.tab-button {
  flex: 1;
  padding: 12px 8px;
  background-color: #2a2a2a;
  color: #ccc;
  border: none;
  border-right: 1px solid #444;
  cursor: pointer;
  font-size: 11px;
  font-weight: 500;
  transition: all 0.2s ease;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.tab-button:last-child {
  border-right: none;
}

.tab-button:hover {
  background-color: #3a3a3a;
  color: white;
}

.tab-button.active {
  background-color: #4da6ff;
  color: white;
  font-weight: 600;
}

/* Tab Content */
#sidebar-content {
  flex: 1;
  overflow-y: auto;
  padding: 0;
}

.tab-panel {
  display: none;
  height: calc(100% - 50px);

  /* Account for tab navigation height */
  padding: 16px;
  color: white;
}

.tab-panel.active {
  display: flex;
  flex-direction: column;
}

.panel-header {
  font-size: 18px;
  font-weight: 700;
  color: #e5f2ff;
  margin-bottom: 18px;
  padding: 14px 16px;
  border-bottom: none;
  background: linear-gradient(120deg, rgba(77, 166, 255, 0.35), rgba(18, 28, 52, 0.65));
  border-radius: 10px;
  padding-bottom: 10px;
  box-shadow: 0 10px 24px rgba(15, 30, 60, 0.35);
}

/* Sections within panels */
.section {
  margin-bottom: 20px;
  padding: 16px 18px;
  background: linear-gradient(155deg, rgba(28, 32, 44, 0.85), rgba(14, 16, 24, 0.92));
  border: 1px solid rgba(148, 163, 184, 0.15);
  border-radius: 14px;
  box-shadow:
    0 18px 30px rgba(9, 13, 26, 0.4),
    inset 0 0 0 1px rgba(255, 255, 255, 0.04);
  display: flex;
  flex-direction: column;
  gap: 14px;
  backdrop-filter: blur(6px);
}

.section-title {
  font-size: 15px;
  font-weight: 700;
  color: #f4f8ff;
  text-transform: uppercase;
  letter-spacing: 0.6px;
  margin-bottom: 6px;
}

/* Dice Log Specific Styles */
#dice-log-content {
  flex: 1;
  background-color: rgba(0, 0, 0, 0.3);
  border: 1px solid #333;
  border-radius: 6px;
  padding: 12px;
  margin-bottom: 12px;
  overflow-y: auto;

  /* Placeables UI removed - styles deleted intentionally */
}

.dice-log-entry {
  padding: 6px 0;
  border-bottom: 1px solid #333;
  font-size: 13px;
  color: #ccc;
}

.dice-log-entry:last-child {
  border-bottom: none;
}

.dice-log-entry.recent {
  color: #4da6ff;
  font-weight: 500;
}

.panel-footer {
  margin-top: auto;
  padding-top: 12px;
  border-top: 1px solid #333;
}

.clear-button {
  width: 100%;
  padding: 8px;
  background-color: #d32f2f;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  transition: background-color 0.2s ease;
}

.clear-button:hover {
  background-color: #b71c1c;
}

/* (moved up next to #creature-content button block for deduplication) */

.nudge-middle-row {
  display: flex;
  gap: 4px;
}

.nudge-grid button {
  background-color: #444;
  color: #fff;
  border: none;
  border-radius: 4px;
  padding: 6px 10px;
  cursor: pointer;
  font-size: 14px;
  transition:
    background-color 0.2s ease,
    transform 0.15s ease;
}

.nudge-grid button:hover {
  background-color: #555;
  transform: translateY(-1px);
}

.nudge-grid button:active {
  transform: translateY(0);
}

.adjust-log {
  margin-top: 6px;
  font-size: 11px;
  line-height: 1.3;
  max-height: 80px;
  overflow-y: auto;
  background: #2a2a2a;
  padding: 6px;
  border-radius: 4px;
  border: 1px solid #333;
  font-family: Consolas, monospace;
  white-space: pre-line;
}

.adjust-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  margin-top: 6px;
}

.adjust-actions button {
  flex: 1 1 auto;
  background: #444;
  border: none;
  color: #fff;
  padding: 6px 8px;
  font-size: 11px;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.adjust-actions button:hover {
  background: #555;
}

.adjust-actions button:active {
  background: #666;
}

/* Action Buttons */
.action-button {
  padding: 12px 18px;
  background: linear-gradient(180deg, rgba(74, 84, 112, 0.85), rgba(36, 42, 58, 0.95));
  color: #f5f7ff;
  border: 1px solid rgba(148, 163, 184, 0.25);
  border-radius: 12px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  letter-spacing: 0.2px;
  width: 100%;
  margin-bottom: 6px;
  transition:
    transform 0.18s ease,
    box-shadow 0.18s ease,
    border-color 0.18s ease,
    background 0.18s ease;
  box-shadow: 0 10px 24px rgba(10, 16, 28, 0.45);
}

.action-button:hover {
  background: linear-gradient(180deg, rgba(94, 108, 146, 0.9), rgba(44, 52, 72, 0.96));
  transform: translateY(-2px);
  border-color: rgba(77, 166, 255, 0.45);
  box-shadow: 0 14px 28px rgba(12, 20, 36, 0.55);
}

.action-button.selected {
  background: linear-gradient(180deg, rgba(77, 166, 255, 0.95), rgba(37, 96, 170, 0.95));
  color: #ffffff;
  border-color: rgba(123, 196, 255, 0.8);
  box-shadow: 0 16px 30px rgba(77, 166, 255, 0.45);
}

.action-button:focus-visible {
  outline: none;
  border-color: rgba(134, 199, 255, 0.9);
  box-shadow:
    0 0 0 2px rgba(77, 166, 255, 0.35),
    0 12px 24px rgba(18, 28, 52, 0.6);
}

/* Primary button style (matches action-button aesthetics) */
.primary-button {
  padding: 12px 20px;
  background: linear-gradient(180deg, rgba(77, 166, 255, 0.95), rgba(35, 86, 170, 0.96));
  color: white;
  border: 1px solid rgba(123, 196, 255, 0.85);
  border-radius: 14px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 700;
  width: auto;
  transition:
    transform 0.18s ease,
    box-shadow 0.18s ease,
    border-color 0.18s ease;
  box-shadow: 0 12px 28px rgba(33, 87, 160, 0.5);
}

.primary-button:hover {
  transform: translateY(-2px);
  border-color: rgba(173, 216, 255, 0.95);
  box-shadow: 0 16px 32px rgba(33, 87, 160, 0.6);
}

.primary-button:disabled {
  background: linear-gradient(180deg, rgba(28, 32, 44, 0.85), rgba(18, 20, 30, 0.92));
  color: #8a93a5;
  cursor: not-allowed;
  border-color: rgba(100, 114, 134, 0.35);
  box-shadow: none;
}

.primary-button:focus-visible {
  outline: none;
  border-color: rgba(192, 228, 255, 0.9);
  box-shadow:
    0 0 0 2px rgba(126, 196, 255, 0.4),
    0 14px 28px rgba(33, 87, 160, 0.65);
}

/* Small helper text under controls */
.small-text {
  color: #9aa3af;
  font-size: 12px;
}

/* .primary-button.selected already defined earlier; avoid duplicates */

/* Grid Controls */
.grid-controls-row {
  display: grid;
  grid-template-columns: auto auto auto auto;
  gap: 8px;
  align-items: center;
  margin-bottom: 12px;
  justify-content: start;
}

.grid-label {
  font-size: 12px;
  color: #ccc;
}

.grid-input {
  padding: 6px 8px;
  background-color: #333;
  color: white;
  border: 1px solid #555;
  border-radius: 4px;
  font-size: 12px;
  width: 60px;

  /* Fixed width instead of 100% */
  max-width: 60px;
}

/* Settings Panel */
.setting-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 12px;
  padding: 8px;
  background-color: rgba(0, 0, 0, 0.3);
  border-radius: 4px;
}

.setting-item label {
  font-size: 13px;
  color: #ccc;
}

.range-input {
  flex: 1;
  margin: 0 12px;
}

.range-value {
  font-size: 12px;
  color: #4da6ff;
  min-width: 40px;
  text-align: right;
}

/* Placeholder content */
.placeholder-content {
  background-color: rgba(0, 0, 0, 0.3);
  border: 1px dashed #555;
  border-radius: 6px;
  padding: 16px;
  text-align: center;
  font-size: 13px;
  color: #888;
  line-height: 1.5;
}

/* Help section */
.help-section {
  background-color: rgba(0, 0, 0, 0.2);
  border-radius: 6px;
  padding: 12px;
  margin-top: 12px;
}

.help-text {
  font-size: 12px;
  color: #aaa;
  margin-bottom: 4px;
  line-height: 1.4;
}

/* Responsive adjustments */
@media (width <=1200px) {
  #right-sidebar {
    width: 300px;
  }
}

@media (width <=900px) {
  #right-sidebar {
    width: 280px;
  }

  .tab-button {
    font-size: 10px;
    padding: 10px 6px;
  }

  /* Responsive adjustments for smaller tab panels */
  .tab-panel {
    height: calc(100% - 45px);

    /* Smaller tab height on medium screens */
  }

  #dice-log-content {
    max-height: calc(100vh - 270px);
    min-height: 150px;
  }
}

@media (width <=600px) {
  #right-sidebar {
    width: 100vw;
    position: fixed;
    z-index: 2000;
  }

  /* Mobile adjustments */
  .tab-panel {
    height: calc(100% - 40px);

    /* Even smaller tab height on mobile */
  }

  #dice-log-content {
    max-height: calc(100vh - 300px);
    min-height: 120px;
  }
}

/* Adjust game container to account for sidebar */
@media (width >=601px) {
  #game-container {
    width: calc(100vw - 350px);
  }
}

@media (width <=1200px) and (width >=901px) {
  #game-container {
    width: calc(100vw - 300px);
  }
}

@media (width <=900px) and (width >=601px) {
  #game-container {
    width: calc(100vw - 280px);
  }
}

/* Hide old token panel since we moved it to sidebar */
#token-panel {
  display: none;
}

/* === TERRAIN TOOL STYLES === */

/* Terrain mode toggle switch */
.terrain-mode {
  margin-bottom: 15px;
}

.toggle-switch {
  position: relative;
  display: flex;
  align-items: center;
  cursor: pointer;
  gap: 10px;
}

.toggle-switch input[type='checkbox'] {
  display: none;
}

.toggle-slider {
  position: relative;
  width: 50px;
  height: 24px;
  background-color: #4a4a4a;
  border-radius: 12px;
  transition: background-color 0.3s ease;
  flex-shrink: 0;
}

.toggle-slider::before {
  content: '';
  position: absolute;
  top: 2px;
  left: 2px;
  width: 20px;
  height: 20px;
  background-color: white;
  border-radius: 50%;
  transition: transform 0.3s ease;
}

.toggle-switch input[type='checkbox']:checked + .toggle-slider {
  background-color: #4caf50;
}

.toggle-switch input[type='checkbox']:checked + .toggle-slider::before {
  transform: translateX(26px);
}

.toggle-label {
  color: #e0e0e0;
  font-size: 14px;
  font-weight: 500;
}

/* Removed unused stacked placeables layout styles after revert */

/* Stacked placeables categories (headerless) */
.placeables-root.placeables-root-stacked {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  align-items: stretch;
}

.placeables-root.placeables-root-stacked .placeables-category {
  margin: 0;

  /* remove any inherited margins */
}

/* Override higher-specificity #terrain-placeables-root grid when stacked class present */
#terrain-placeables-root.placeables-root-stacked {
  display: flex !important;
  flex-direction: column;
  gap: 0.75rem;
  grid-template-columns: none !important;
  max-height: 340px;

  /* allow a bit more vertical room for multiple collapsed sections */
  overflow-y: auto;
  padding-right: 4px;
}

/* Category bodies show entries in a thumbnail grid once expanded */
.placeables-root.placeables-root-stacked .placeables-cat-body {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(56px, 1fr));
  gap: 6px;
  margin-top: 6px;
}

@media (width <=768px) {
  .placeables-root.placeables-root-stacked .placeables-cat-body {
    grid-template-columns: repeat(auto-fill, minmax(48px, 1fr));
  }
}

/* Terrain tools container */
.terrain-tools-container {
  margin-top: 10px;
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.tool-group {
  margin: 0;
  padding: 14px;
  background: linear-gradient(160deg, rgba(22, 24, 32, 0.9), rgba(12, 13, 22, 0.92));
  border: 1px solid rgba(148, 163, 184, 0.12);
  border-radius: 12px;
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.03);
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.section-subtitle {
  font-size: 13px;
  color: #d6deff;
  font-weight: 600;
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 0.6px;
}

/* Tool buttons */
.tool-buttons {
  display: flex;
  gap: 8px;
}

.terrain-tool-btn {
  flex: 1;
  padding: 10px 14px;
  background: linear-gradient(180deg, rgba(72, 84, 110, 0.85), rgba(32, 37, 48, 0.92));
  color: #ecf0ff;
  border: 1px solid rgba(148, 163, 184, 0.2);
  border-radius: 12px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  letter-spacing: 0.2px;
  transition:
    transform 0.18s ease,
    box-shadow 0.18s ease,
    border-color 0.18s ease;
  text-align: center;
  box-shadow: 0 10px 22px rgba(10, 16, 28, 0.45);
}

.terrain-tool-btn:hover {
  background: linear-gradient(180deg, rgba(95, 110, 142, 0.88), rgba(40, 48, 62, 0.95));
  transform: translateY(-2px);
  border-color: rgba(77, 166, 255, 0.45);
  box-shadow: 0 14px 26px rgba(12, 20, 34, 0.55);
}

.terrain-tool-btn.active {
  background: linear-gradient(180deg, rgba(110, 212, 147, 0.95), rgba(44, 140, 85, 0.95));
  color: #0b1b0f;
  border-color: rgba(148, 242, 189, 0.85);
  box-shadow: 0 16px 28px rgba(56, 170, 110, 0.45);
}

.terrain-tool-btn.active:hover {
  transform: translateY(-2px);
  border-color: rgba(173, 255, 206, 0.9);
}

.terrain-tool-btn:focus-visible {
  outline: none;
  border-color: rgba(123, 196, 255, 0.8);
  box-shadow:
    0 0 0 2px rgba(77, 166, 255, 0.35),
    0 14px 28px rgba(10, 16, 28, 0.55);
}

/* Brush controls */
.brush-controls {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}

.brush-btn {
  width: 36px;
  height: 36px;
  background: linear-gradient(180deg, rgba(68, 78, 104, 0.85), rgba(30, 34, 44, 0.9));
  color: #eaf1ff;
  border: 1px solid rgba(148, 163, 184, 0.25);
  border-radius: 10px;
  cursor: pointer;
  font-size: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition:
    transform 0.18s ease,
    box-shadow 0.18s ease,
    border-color 0.18s ease;
  box-shadow: 0 8px 18px rgba(10, 16, 28, 0.45);
}

.brush-btn:hover {
  background: linear-gradient(180deg, rgba(86, 98, 128, 0.9), rgba(36, 42, 56, 0.96));
  transform: translateY(-2px);
  border-color: rgba(77, 166, 255, 0.45);
  box-shadow: 0 12px 24px rgba(10, 16, 28, 0.55);
}

.brush-btn:focus-visible {
  outline: none;
  border-color: rgba(123, 196, 255, 0.85);
  box-shadow:
    0 0 0 2px rgba(77, 166, 255, 0.35),
    0 10px 22px rgba(10, 16, 28, 0.55);
}

.brush-btn:active {
  background-color: #3a3a3a;
}

.brush-size {
  color: #e0e0e0;
  font-weight: 600;
  font-size: 14px;
  min-width: 40px;
  text-align: center;
}

/* Terrain reset button */
.terrain-reset {
  width: 100%;
  background-color: #ff6b6b;
  color: white;
  border: none;
  padding: 8px 12px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 13px;
  font-weight: 500;
  transition: background-color 0.2s ease;
}

.terrain-reset:hover {
  background-color: #ff5252;
}

.terrain-reset:active {
  background-color: #f44336;
}

/* Height indicator */
.height-indicator {
  padding: 8px 0;
  text-align: center;
}

.height-label {
  color: #ccc;
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-right: 8px;
}

.height-value {
  color: #4caf50;
  font-size: 16px;
  font-weight: bold;
  background: rgba(76, 175, 80, 0.1);
  border: 1px solid #4caf50;
  border-radius: 4px;
  padding: 2px 8px;
  margin-left: 4px;
}

.height-scale {
  display: grid;
  grid-template-columns: repeat(21, minmax(0, 1fr));
  margin-top: 8px;
  padding: 2px 0;
  background: rgba(255, 255, 255, 0.06);
  border-radius: 6px;
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.scale-mark {
  padding: 2px 0;
  font-size: 9px;
  line-height: 1.2;
  text-align: center;
  color: #c0c6d8;
  border-right: 1px solid rgba(255, 255, 255, 0.08);
  box-sizing: border-box;
  min-width: 0;
  transition:
    transform 0.2s ease,
    background-color 0.2s ease,
    color 0.2s ease;
}

.scale-mark:last-child {
  border-right: none;
}

.scale-mark.current {
  background: linear-gradient(180deg, rgba(76, 175, 80, 0.95), rgba(44, 121, 57, 0.95));
  color: #f3fff2;
  font-weight: 600;
  transform: scale(1.05);
  box-shadow: inset 0 0 10px rgba(30, 90, 40, 0.35);
}

/* Height indicator colors (-10..10) aligned with TERRAIN_CONFIG.HEIGHT_COLOR_SCALE */
.scale-mark[data-height='-10'] {
  background-color: #040913;
}

.scale-mark[data-height='-9'] {
  background-color: #071225;
}

.scale-mark[data-height='-8'] {
  background-color: #0b1c36;
}

.scale-mark[data-height='-7'] {
  background-color: #112848;
}

.scale-mark[data-height='-6'] {
  background-color: #18345a;
}

.scale-mark[data-height='-5'] {
  background-color: #1f416d;
}

.scale-mark[data-height='-4'] {
  background-color: #2a4f82;
}

.scale-mark[data-height='-3'] {
  background-color: #365d97;
}

.scale-mark[data-height='-2'] {
  background-color: #496ab1;
}

.scale-mark[data-height='-1'] {
  background-color: #5d72c6;
}

.scale-mark[data-height='0'] {
  background-color: #6b7280;
}

.scale-mark[data-height='1'] {
  background-color: #1a7b53;
}

.scale-mark[data-height='2'] {
  background-color: #138b48;
}

.scale-mark[data-height='3'] {
  background-color: #16994b;
}

.scale-mark[data-height='4'] {
  background-color: #21a556;
}

.scale-mark[data-height='5'] {
  background-color: #3db268;
}

.scale-mark[data-height='6'] {
  background-color: #64bf75;
}

.scale-mark[data-height='7'] {
  background-color: #8fcc7f;
}

.scale-mark[data-height='8'] {
  background-color: #b7d789;
}

.scale-mark[data-height='9'] {
  background-color: #dfe09a;
}

.scale-mark[data-height='10'] {
  background-color: #f3e9b2;
}

/* Shortcuts text */
.shortcuts-text {
  color: #888;
  line-height: 1.4;
}

.shortcuts-text small {
  font-size: 11px;
}

/* Responsive adjustments for terrain tools */
@media (width <=768px) {
  .tool-buttons {
    flex-direction: column;
    gap: 6px;
  }

  .terrain-tool-btn {
    padding: 10px;
    font-size: 16px;
  }

  .brush-controls {
    gap: 15px;
  }

  .brush-btn {
    width: 36px;
    height: 36px;
    font-size: 18px;
  }

  .brush-size {
    font-size: 16px;
  }
}

/* ====================================
   Biome Menu Styling (matches terrain tool aesthetics)
   ==================================== */
.biome-menu {
  display: flex;
  flex-direction: column;
  gap: 12px;
  max-height: clamp(320px, 65vh, 560px);
  overflow-y: auto;
  padding-right: 4px;
}

.biome-group {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid #333;
  border-radius: 6px;
  padding: 6px 6px 4px;
}

.biome-group-toggle {
  width: 100%;
  background: #4a4a4a;
  color: #e0e0e0;
  border: 2px solid transparent;
  border-radius: 4px;
  cursor: pointer;
  font-size: 13px;
  font-weight: 600;
  padding: 6px 10px;
  text-align: left;
  display: flex;
  align-items: center;
  justify-content: space-between;
  transition: all 0.2s ease;
  position: relative;
}

.biome-group-toggle::after {
  content: '\25BC';
  font-size: 11px;
  opacity: 0.7;
  transition: transform 0.25s ease;
}

.biome-group-toggle[aria-expanded='false']::after {
  transform: rotate(-90deg);
}

.biome-group-toggle:hover {
  background: #5a5a5a;
  color: #fff;
}

.biome-group-list {
  margin-top: 6px;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 6px;
  transition:
    max-height 0.3s ease,
    opacity 0.3s ease;
}

.biome-btn {
  background: #404040;
  color: #d0d0d0;
  border: 1px solid #333;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  padding: 6px 8px;
  text-align: center;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 4px;
}

.biome-btn:hover {
  background: #555;
  color: #fff;
  transform: translateY(-1px);
}

.biome-btn.selected {
  background: #4caf50;
  color: #fff;
  border-color: #45a049;
  box-shadow: 0 2px 4px rgba(76, 175, 80, 0.3);
  font-weight: 600;
}

.biome-btn.selected:hover {
  background: #45a049;
}

.biome-menu::-webkit-scrollbar {
  width: 8px;
}

.biome-menu::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

.biome-menu::-webkit-scrollbar-thumb {
  background: #444;
  border-radius: 4px;
}

.biome-menu::-webkit-scrollbar-thumb:hover {
  background: #555;
}

@media (width <=768px) {
  .biome-group-list {
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  }
}

.placeable-pointer-btn {
  background-color: #222;
}

.placeable-pointer-btn.selected {
  background-color: #4da6ff;
  color: white;
  font-weight: 600;
}

/* Placeables menu */
#terrain-placeables-root,
.placeables-root {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
  gap: 4px;
  align-items: start;
  padding-right: 4px;
  max-height: 240px;
  overflow-y: auto;
}

/* Explicit tiled modifier (future-proof for alternative layouts) */
#terrain-placeables-root.placeables-root-tiled,
.placeables-root.placeables-root-tiled {
  grid-auto-rows: minmax(34px, auto);
}

/* Ensure each expanded category body in tiled mode is a grid */
#terrain-placeables-root.placeables-root-tiled .placeables-cat-body,
.placeables-root.placeables-root-tiled .placeables-cat-body {
  display: grid !important;
  grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
  gap: 4px;
  margin-top: 4px;
}

/* Basic category body grid (reverted simpler version) */
.placeables-cat-body {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
  gap: 4px;
}

/* Strong explicit tiling for trees (fixed track width) */
.placeables-cat-body.force-tree-grid {
  display: grid !important;
  grid-auto-flow: row dense;
  grid-template-columns: repeat(auto-fill, 72px);
  place-content: start start;
  gap: 6px;
}

.placeables-cat-body.force-tree-grid .placeable-btn {
  width: 72px !important;
  min-width: 0;
  max-width: 72px;
  flex: 0 0 auto;
  padding: 4px 2px;
}

/* Ensure tree grid buttons don't inherit 100% width rule from generic context */
.force-tree-grid .placeable-btn {
  width: 72px !important;
}

.placeable-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 4px;
  background: #333;
  color: #fff;
  border: 1px solid #2b2b2b;
  border-radius: 5px;
  cursor: pointer;
  width: auto;

  /* allow grid to pack multiple buttons per row */
  min-height: 34px;
  box-sizing: border-box;
  text-align: center;
  font-size: 11px;
  line-height: 1.1;
}

.placeable-preview {
  width: 112px;
  height: 112px;
  object-fit: contain;
  display: block;
  margin: 0 auto;
  image-rendering: -webkit-optimize-contrast;
}

.placeable-label {
  font-size: 11px;
  color: #ddd;
  white-space: normal;
  word-break: break-word;
  width: 100%;
}

.placeable-btn:hover {
  background-color: #444;
  transform: translateY(-1px);
}

.placeable-btn.selected {
  background-color: #4da6ff;
  color: white;
  font-weight: 600;
  border-color: #3a9be6;
}

/* Text-only variant (no thumbnail) for plant-family buttons */
.placeable-btn.no-thumb {
  padding: 4px;
  min-height: 34px;
}

.placeable-btn.no-thumb .placeable-label {
  font-size: 11px;
  line-height: 1.15;
}

/* Subtle tint to distinguish plant families */
.placeable-btn.plant-family {
  background: #2f3b2f;
  border-color: #324632;
}

.placeable-btn.plant-family:hover {
  background: #3a4a3a;
}

.placeable-btn.plant-family.selected {
  background: #4da65a;
  border-color: #3a9248;
}

/* Unified placeables grid (all categories merged with headers) */
.placeables-unified-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(72px, 1fr));
  gap: 6px;
  align-items: start;
  max-height: 260px;
  overflow-y: auto;
  padding-right: 4px;
}

.placeables-unified-grid .placeable-btn {
  width: 100%;
  min-height: 40px;
}

.placeables-section-header {
  grid-column: 1 / -1;
  font-weight: 600;
  font-size: 11px;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  color: #9aa3af;
  padding: 4px 2px 2px;
  margin-top: 4px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid #2b2b2b;
  border-radius: 4px;
}

@media (width <=768px) {
  #terrain-placeables-root,
  .placeables-root {
    grid-template-columns: repeat(auto-fill, minmax(92px, 1fr));
    max-height: 200px;
    gap: 6px;
  }

  .placeable-btn {
    width: 92px;
    padding: 8px 6px 6px;
    font-size: 11px;
  }

  .placeable-preview {
    width: 84px;
    height: 84px;
  }
}

/* =========================
   TOKEN RADIAL MENU
   ========================= */
.radial-menu {
  position: fixed;

  --menu-size: 280px;
  --icon-distance: 140px;
  --icon-hover-distance: 155.5px;
  --label-distance: 177.3px;
  --label-visible-distance: 190.9px;
  --submenu-icon-distance: 188px;
  --submenu-icon-hover-distance: 204px;
  --submenu-label-distance: 224px;
  --submenu-label-visible-distance: 238px;

  width: var(--menu-size, 280px);
  height: var(--menu-size, 280px);
  transform: translate(-50%, -50%) scale(1);
  z-index: 1500;
  opacity: 1;
  overflow: visible;
  transition:
    opacity 150ms ease,
    transform 180ms ease;
  pointer-events: auto;
}

.radial-menu.hidden {
  opacity: 0;
  transform: translate(-50%, -50%) scale(0.92);
  pointer-events: none;
}

.radial-menu .radial-svg {
  width: 100%;
  height: 100%;
  overflow: visible;
  filter: drop-shadow(0 10px 28px rgba(4, 13, 32, 0.55));
  pointer-events: auto;
}

.radial-menu path[data-action-id] {
  fill: color-mix(in srgb, var(--accent, #7ccdf9) 45%, transparent);
  stroke: rgba(3, 12, 26, 0.65);
  stroke-width: 3;
  stroke-linecap: round;
  stroke-linejoin: round;
  cursor: pointer;
  opacity: 0.62;
  transform-origin: 50% 50%;
  transform-box: fill-box;
  transform: translate3d(var(--pop-x, 0), var(--pop-y, 0), 0);
  filter: drop-shadow(0 6px 14px rgba(4, 24, 42, 0.35));
  transition:
    opacity 140ms ease,
    filter 160ms ease,
    transform 220ms cubic-bezier(0.28, 0.53, 0.22, 1.1),
    fill 160ms ease,
    stroke 160ms ease;
}

.radial-menu path[data-action-id][data-hover='true'],
.radial-menu path[data-action-id]:hover,
.radial-menu path[data-action-id][data-active='true'] {
  opacity: 1;
  fill: color-mix(in srgb, var(--accent, #7ccdf9) 82%, #041020 8%);
  filter: drop-shadow(0 14px 28px rgba(11, 62, 110, 0.55));
  transform: translate3d(var(--pop-hover-x, 0), var(--pop-hover-y, 0), 0) scale(1.05);
  stroke: color-mix(in srgb, var(--accent, #7ccdf9) 30%, rgba(4, 12, 28, 0.5));
}

.radial-menu path[data-action-id][data-submenu-open='true'],
.radial-menu path[data-action-id][data-submenu-open='true']:hover,
.radial-menu path[data-action-id][data-submenu-open='true'][data-hover='true'],
.radial-menu path[data-action-id][data-submenu-open='true'][data-active='true'] {
  transform: translate3d(var(--pop-x, 0), var(--pop-y, 0), 0);
  filter: drop-shadow(0 10px 22px rgba(4, 24, 42, 0.45));
}

.radial-icon-layer,
.radial-label-layer,
.radial-submenu-icon-layer,
.radial-submenu-label-layer {
  position: absolute;
  inset: 0;
  overflow: visible;
  pointer-events: none;
}

.radial-submenu-group path.radial-submenu-path {
  fill: color-mix(in srgb, var(--accent, #85e0ff) 50%, rgba(4, 10, 24, 0.1));
  stroke: rgba(8, 24, 44, 0.6);
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: 0.8;
  cursor: pointer;
  transform-box: fill-box;
  transform-origin: 50% 50%;
  transform: translate3d(var(--pop-x, 0), var(--pop-y, 0), 0);
  transition:
    opacity 140ms ease,
    transform 220ms cubic-bezier(0.28, 0.53, 0.22, 1.1),
    fill 160ms ease,
    stroke 160ms ease;
}

.radial-submenu-group path.radial-submenu-path[data-hover='true'],
.radial-submenu-group path.radial-submenu-path:hover {
  opacity: 1;
  fill: color-mix(in srgb, var(--accent, #85e0ff) 80%, rgba(3, 8, 18, 0.2));
  transform: translate3d(var(--pop-hover-x, 0), var(--pop-hover-y, 0), 0) scale(1.03);
  stroke: color-mix(in srgb, var(--accent, #85e0ff) 35%, rgba(4, 12, 28, 0.4));
}

.radial-submenu-icon {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 38px;
  height: 38px;
  border-radius: 999px;
  background: rgba(8, 28, 44, 0.82);
  border: 1px solid rgba(140, 214, 255, 0.45);
  color: #e5f8ff;
  font-size: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: translate(-50%, -50%) rotate(var(--angle))
    translate(0, calc(-1 * var(--submenu-icon-distance, 188px))) rotate(calc(-1 * var(--angle)));
  box-shadow: 0 6px 18px rgba(6, 20, 36, 0.65);
  transition:
    transform 150ms ease,
    background 150ms ease,
    border-color 150ms ease;
}

.radial-submenu-icon[data-hover='true'] {
  transform: translate(-50%, -50%) rotate(var(--angle))
    translate(0, calc(-1 * var(--submenu-icon-hover-distance, 204px)))
    rotate(calc(-1 * var(--angle))) scale(1.05);
  background: rgba(20, 58, 88, 0.92);
  border-color: rgba(180, 236, 255, 0.8);
}

.radial-submenu-label {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%) rotate(var(--angle))
    translate(0, calc(-1 * var(--submenu-label-distance, 224px))) rotate(calc(-1 * var(--angle)));
  background: rgba(8, 18, 36, 0.85);
  border: 1px solid rgba(160, 220, 255, 0.35);
  color: #eaf5ff;
  padding: 6px 12px;
  border-radius: 24px;
  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.35);
  opacity: 0;
  transition:
    opacity 120ms ease,
    transform 180ms ease;
}

.radial-submenu-label[data-visible='true'] {
  opacity: 1;
  transform: translate(-50%, -50%) rotate(var(--angle))
    translate(0, calc(-1 * var(--submenu-label-visible-distance, 238px)))
    rotate(calc(-1 * var(--angle)));
}

.radial-action-node {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 44px;
  height: 44px;
  border-radius: 999px;
  background: rgba(15, 42, 65, 0.7);
  border: 1px solid rgba(124, 205, 249, 0.35);
  color: #e9f5ff;
  font-size: 20px;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: translate(-50%, -50%) rotate(var(--angle))
    translate(0, calc(-1 * var(--icon-distance, 140px))) rotate(calc(-1 * var(--angle)));
  box-shadow: 0 6px 18px rgba(3, 16, 34, 0.65);
  transition:
    transform 150ms ease,
    box-shadow 150ms ease,
    background 150ms ease,
    border-color 150ms ease;
  pointer-events: none;
}

.radial-action-node[data-hover='true'],
.radial-action-node[data-active='true'] {
  transform: translate(-50%, -50%) rotate(var(--angle))
    translate(0, calc(-1 * var(--icon-hover-distance, 155.5px))) rotate(calc(-1 * var(--angle)))
    scale(1.08);
  box-shadow: 0 12px 26px rgba(6, 34, 68, 0.75);
  background: rgba(33, 82, 122, 0.92);
  border-color: rgba(124, 205, 249, 0.85);
}

.radial-action-node[data-submenu-open='true'],
.radial-action-node[data-submenu-open='true'][data-hover='true'],
.radial-action-node[data-submenu-open='true'][data-active='true'] {
  transform: translate(-50%, -50%) rotate(var(--angle))
    translate(0, calc(-1 * var(--icon-distance, 140px))) rotate(calc(-1 * var(--angle)));
  box-shadow: 0 6px 18px rgba(3, 16, 34, 0.65);
  background: rgba(15, 42, 65, 0.7);
  border-color: rgba(124, 205, 249, 0.35);
}

.radial-sublabel {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%) rotate(var(--angle))
    translate(0, calc(-1 * var(--label-distance, 177.3px))) rotate(calc(-1 * var(--angle)));
  background: rgba(6, 20, 40, 0.85);
  border: 1px solid rgba(145, 205, 255, 0.3);
  color: #d7ecff;
  padding: 8px 14px;
  border-radius: 999px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.45);
  opacity: 0;
  transform-origin: center;
  transition:
    opacity 120ms ease,
    transform 180ms ease;
}

.radial-sublabel[data-visible='true'] {
  opacity: 1;
  transform: translate(-50%, -50%) rotate(var(--angle))
    translate(0, calc(-1 * var(--label-visible-distance, 190.9px))) rotate(calc(-1 * var(--angle)));
}

.radial-label-title {
  font-size: 14px;
  font-weight: 600;
  display: block;
}

.radial-label-hint {
  font-size: 11px;
  opacity: 0.72;
}

.radial-center-button {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 74px;
  height: 74px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(20, 46, 74, 0.9), rgba(6, 16, 28, 0.92));
  border: 1px solid rgba(124, 205, 249, 0.45);
  color: #dceeff;
  font-weight: 600;
  cursor: pointer;
  pointer-events: auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 14px;
  box-shadow: 0 12px 28px rgba(3, 12, 30, 0.65);
  transition:
    background 140ms ease,
    transform 140ms ease,
    border-color 140ms ease;
}

.radial-center-button:hover {
  background: radial-gradient(circle, rgba(40, 88, 132, 0.95), rgba(12, 30, 50, 0.98));
  border-color: rgba(124, 205, 249, 0.85);
  transform: translate(-50%, -50%) scale(1.06);
}

.radial-center-button small {
  font-size: 10px;
  letter-spacing: 0.2em;
  opacity: 0.7;
}
